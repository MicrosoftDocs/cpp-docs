---
title: "_strdate_s, _wstrdate_s"
description: "_strdate_s and _wstrdate_s are secure CRT versions of the _strdate and _wstrdate functions that put the current date in a buffer."
ms.date: "4/2/2020"
api_name: ["_strdate_s", "_wstrdate_s", "_o__strdate_s", "_o__wstrdate_s"]
api_location: ["msvcrt.dll", "msvcr80.dll", "msvcr90.dll", "msvcr100.dll", "msvcr100_clr0400.dll", "msvcr110.dll", "msvcr110_clr0400.dll", "msvcr120.dll", "msvcr120_clr0400.dll", "ucrtbase.dll", "api-ms-win-crt-time-l1-1-0.dll"]
api_type: ["DLLExport"]
topic_type: ["apiref"]
f1_keywords: ["_strdate_s", "wstrdate_s", "_wstrdate_s", "strdate_s", "_tstrdate_s"]
helpviewer_keywords: ["dates, copying", "tstrdate_s function", "wstrdate_s function", "_tstrdate_s function", "strdate_s function", "copying dates", "_strdate_s function", "_wstrdate_s function"]
ms.assetid: d41d8ea9-e5ce-40d4-864e-1ac29b455991
---
# `_strdate_s`, `_wstrdate_s`

Copy the current system date to a buffer. These functions are versions of [`_strdate`, `_wstrdate`](strdate-wstrdate.md) with security enhancements as described in [Security features in the CRT](../security-features-in-the-crt.md).

## Syntax

```C
errno_t _strdate_s(
   char *buffer,
   size_t size
);
errno_t _wstrdate_s(
   wchar_t *buffer,
   size_t size
);
template <size_t size>
errno_t _strdate_s(
   char (&buffer)[size]
); // C++ only
template <size_t size>
errno_t _wstrdate_s(
   wchar_t (&buffer)[size]
); // C++ only
```

### Parameters

*`buffer`*\
A pointer to a buffer to put the formatted date string.

*`size`*\
Size of the buffer in character units.

## Return value

Zero if successful. The return value is an error code if there's a failure. Error codes are defined in ERRNO.H; see table below for the exact errors generated by this function. For more information on error codes, see [`errno`](../errno-constants.md).

## Error conditions

| *`buffer`* | *`size`* | Return | Contents of *`buffer`* |
|---|---|---|---|
| `NULL` | (any) | `EINVAL` | Not modified |
| Not `NULL` (pointing to valid buffer) | 0 | `EINVAL` | Not modified |
| Not `NULL` (pointing to valid buffer) | 0 < *`size`* < 9 | `EINVAL` | Empty string |
| Not `NULL` (pointing to valid buffer) | *`size`* >= 9 | 0 | Current date formatted as specified in the remarks |

## Security issues

If you pass in an invalid, non-NULL value for *`buffer`*, it results in an access violation if the *`size`* parameter is greater than nine.

Passing a value for *`size`* greater than the actual size of *`buffer`* results in a buffer overrun.

## Remarks

These functions provide more secure versions of `_strdate` and `_wstrdate`. The **`_strdate_s`** function copies the current system date to the buffer pointed to by *`buffer`*. It's formatted `mm/dd/yy`, where `mm` is the two-digit month, `dd` is the two-digit day, and `yy` is the last two digits of the year. For example, the string `12/05/99` represents December 5, 1999. The buffer must be at least nine characters long.

**`_wstrdate_s`** is a wide-character version of **`_strdate_s`**; the argument and return value of **`_wstrdate_s`** are wide-character strings. These functions behave identically otherwise.

When *`buffer`* is a `NULL` pointer, or *`size`* is fewer than nine characters, the invalid parameter handler is invoked. It's described in [Parameter validation](../parameter-validation.md). If execution is allowed to continue, these functions return -1. They set `errno` to `EINVAL` if the buffer is `NULL` or if *`size`* is less than or equal to 0. Or, they set `errno` to `ERANGE` if *`size`* is less than 9.

In C++, use of these functions is simplified by template overloads. The overloads can infer buffer length automatically, which eliminates the need to specify a *`size`* argument. And, they can automatically replace non-secure functions with their newer, more secure counterparts. For more information, see [Secure template overloads](../secure-template-overloads.md).

The debug library versions of these functions first fill the buffer with 0xFE. To disable this behavior, use [`_CrtSetDebugFillThreshold`](crtsetdebugfillthreshold.md).

By default, this function's global state is scoped to the application. To change this behavior, see [Global state in the CRT](../global-state.md).

### Generic-text routine mapping:

| TCHAR.H routine | `_UNICODE` and `_MBCS` not defined | `_MBCS` defined | `_UNICODE` defined |
|---|---|---|---|
| `_tstrdate_s` | **`_strdate_s`** | **`_strdate_s`** | **`_wstrdate_s`** |

## Requirements

| Routine | Required header |
|---|---|
| **`_strdate`** | \<time.h> |
| **`_wstrdate`** | \<time.h> or \<wchar.h> |
| **`_strdate_s`** | \<time.h> |

## Example

See the example for [`time`](time-time32-time64.md).

## See also

[Time management](../time-management.md)\
[`asctime_s`, `_wasctime_s`](asctime-s-wasctime-s.md)\
[`ctime_s`, `_ctime32_s`, `_ctime64_s`, `_wctime_s`, `_wctime32_s`, `_wctime64_s`](ctime-s-ctime32-s-ctime64-s-wctime-s-wctime32-s-wctime64-s.md)\
[`gmtime_s`, `_gmtime32_s`, `_gmtime64_s`](gmtime-s-gmtime32-s-gmtime64-s.md)\
[`localtime_s`, `_localtime32_s`, `_localtime64_s`](localtime-s-localtime32-s-localtime64-s.md)\
[`mktime`, `_mktime32`, `_mktime64`](mktime-mktime32-mktime64.md)\
[`time`, `_time32`, `_time64`](time-time32-time64.md)\
[`_tzset`](tzset.md)
